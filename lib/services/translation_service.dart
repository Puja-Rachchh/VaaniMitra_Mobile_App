import 'dart:convert';
import 'package:http/http.dart' as http;

class TranslationService {
  static const String _apiKey = 'AIzaSyBkHfzZU2crbS1a2WPE-DQZCFaNEBDR9LA';
  static const String _baseUrl = 'https://translation.googleapis.com/language/translate/v2';

  static Future<String> translateText(String text, String targetLanguage, String sourceLanguage) async {
    try {
      final response = await http.post(
        Uri.parse('$_baseUrl?key=$_apiKey'),
        headers: {
          'Content-Type': 'application/json',
        },
        body: jsonEncode({
          'q': text,
          'target': targetLanguage,
          'source': sourceLanguage,
          'format': 'text',
        }),
      );

      if (response.statusCode == 200) {
        final data = jsonDecode(response.body);
        return data['data']['translations'][0]['translatedText'];
      } else {
        // Fallback to offline translation
        return _getFallbackTranslation(text, targetLanguage, sourceLanguage);
      }
    } catch (e) {
      // If API fails, use fallback translation
      return _getFallbackTranslation(text, targetLanguage, sourceLanguage);
    }
  }

  static String _getFallbackTranslation(String text, String targetLanguage, String sourceLanguage) {
    // Common fruits and vegetables translations
    Map<String, Map<String, String>> fruitVegetableMapping = {
      // Fruits
      'Apple': {'hi': 'рд╕реЗрдм', 'ta': 'роЖрокрпНрокро┐ро│рпН', 'te': 'р░Жр░кр░┐р░▓р▒Н', 'bn': 'ржЖржкрзЗрж▓', 'mr': 'рд╕рдлрд░рдЪрдВрдж', 'gu': 'рк╕рклрк░ркЬрки', 'kn': 'р▓╕р│Зр▓мр│Б', 'ml': 'р┤Жр┤кр╡Нр┤кр┤┐р╡╛', 'pa': 'ри╕рйЗрим', 'or': 'рмЖрмкрм▓', 'as': 'ржЖржкрзЗрж▓', 'ur': '╪│█М╪и', 'ne': 'рд╕реНрдпрд╛рдЙ', 'en': 'Apple'},
      'Banana': {'hi': 'рдХреЗрд▓рд╛', 'ta': 'ро╡ро╛ро┤рпИрокрпНрокро┤роорпН', 'te': 'р░Ер░░р░Яр░┐р░кр░Вр░бр▒Б', 'bn': 'ржХрж▓рж╛', 'mr': 'рдХреЗрд│реА', 'gu': 'ркХрлЗрк│рлБркВ', 'kn': 'р▓мр▓╛р▓│р│Жр▓╣р▓гр│Нр▓гр│Б', 'ml': 'р┤╡р┤╛р┤┤р┤кр╡Нр┤кр┤┤р┤В', 'pa': 'риХрйЗри▓ри╛', 'or': 'рмХрмжрм│рнА', 'as': 'ржХрж▓', 'ur': '┌й█М┘Д╪з', 'ne': 'рдХреЗрд░рд╛', 'en': 'Banana'},
      'Mango': {'hi': 'рдЖрдо', 'ta': 'рооро╛роорпНрокро┤роорпН', 'te': 'р░ор░╛р░ор░┐р░бр░┐р░кр░Вр░бр▒Б', 'bn': 'ржЖржо', 'mr': 'рдЖрдВрдмрд╛', 'gu': 'ркХрлЗрк░рлА', 'kn': 'р▓ор▓╛р▓╡р▓┐р▓ир▓╣р▓гр│Нр▓гр│Б', 'ml': 'р┤ор┤╛р┤Щр╡Нр┤Щ', 'pa': 'риЕрй░рим', 'or': 'рмЖрморнНрмм', 'as': 'ржЖржо', 'ur': '╪в┘Е', 'ne': 'рдЖрдБрдк', 'en': 'Mango'},
      'Orange': {'hi': 'рд╕рдВрддрд░рд╛', 'ta': 'роЖро░роЮрпНроЪрпБ', 'te': 'р░ир░╛р░░р░┐р░Вр░Ь', 'bn': 'ржХржорж▓рж╛', 'mr': 'рд╕рдВрддреНрд░реА', 'gu': 'ркирк╛рк░ркВркЧрлА', 'kn': 'р▓Хр▓┐р▓др│Нр▓др▓│р│Ж', 'ml': 'р┤Ур┤▒р┤Юр╡Нр┤Ър╡Н', 'pa': 'ри╕рй░ридри░ри╛', 'or': 'рмХрморм│рм╛', 'as': 'ржХржорж▓рж╛', 'ur': '╪│┘Ж╪к╪▒█Б', 'ne': 'рд╕реБрдиреНрддрд▓рд╛', 'en': 'Orange'},
      'Grapes': {'hi': 'рдЕрдВрдЧреВрд░', 'ta': 'родро┐ро░ро╛роЯрпНроЪрпИ', 'te': 'р░жр▒Нр░░р░╛р░Хр▒Нр░╖', 'bn': 'ржЖржЩрзБрж░', 'mr': 'рджреНрд░рд╛рдХреНрд╖', 'gu': 'ркжрлНрк░рк╛ркХрлНрк╖', 'kn': 'р▓жр│Нр▓░р▓╛р▓Хр│Нр▓╖р▓┐', 'ml': 'р┤ор╡Бр┤ир╡Нр┤др┤┐р┤░р┤┐', 'pa': 'риЕрй░риЧрйВри░', 'or': 'рмЕрмЩрнНрмЧрнБрм░', 'as': 'ржЖржЩрзБрз░', 'ur': '╪з┘Ж┌п┘И╪▒', 'ne': 'рдЕрдВрдЧреБрд░', 'en': 'Grapes'},
      'Watermelon': {'hi': 'рддрд░рдмреВрдЬ', 'ta': 'родро░рпНрокрпВроЪрогро┐', 'te': 'р░кр▒Бр░Ър▒Нр░Ър░Хр░╛р░п', 'bn': 'рждрж░ржорзБржЬ', 'mr': 'рдЯрд░рдмреВрдЬ', 'gu': 'ркдрк░ркмрлВркЪ', 'kn': 'р▓Хр▓▓р│Нр▓▓р▓Вр▓Чр▓бр▓┐', 'ml': 'р┤др┤гр╡Нр┤гр┤┐р┤ор┤др╡Нр┤др╡╗', 'pa': 'ридри░римрйВриЬ', 'or': 'рмдрм░рмнрнБрмЬ', 'as': 'рждрз░ржорзБржЬ', 'ur': '╪к╪▒╪и┘И╪▓', 'ne': 'рдЦрд░реНрдмреБрдЬрд╛', 'en': 'Watermelon'},
      'Pineapple': {'hi': 'рдЕрдирд╛рдирд╛рд╕', 'ta': 'роЕройрпНройро╛роЪро┐', 'te': 'р░Ер░ир░╛р░╕р░кр░Вр░бр▒Б', 'bn': 'ржЖржирж╛рж░рж╕', 'mr': 'рдЕрдирдирд╕', 'gu': 'ркЕркирк╛ркирк╕', 'kn': 'р▓Ер▓ир▓╛р▓ир▓╕р│Н', 'ml': 'р┤Хр╡Ир┤др┤Ър╡Нр┤Ър┤Хр╡Нр┤Х', 'pa': 'риЕриири╛риири╛ри╕', 'or': 'рмЕрмирм╛рмирм╛рм╕', 'as': 'ржЖржирж╛рз░рж╕', 'ur': '╪з┘Ж┘Ж╪з╪│', 'ne': 'рднреБрдИ рдХрдЯрд╣рд░', 'en': 'Pineapple'},
      'Papaya': {'hi': 'рдкрдкреАрддрд╛', 'ta': 'рокрокрпНрокро╛ро│ро┐', 'te': 'р░мр▒Кр░кр▒Нр░кр░╛р░пр░┐', 'bn': 'ржкрзЗржБржкрзЗ', 'mr': 'рдкрдкрдИ', 'gu': 'рккрккрлИркпрлБркВ', 'kn': 'р▓кр▓кр│Нр▓кр▓╛р▓пр▓┐', 'ml': 'р┤кр┤кр╡Нр┤кр┤╛р┤п', 'pa': 'рикрикрйАридри╛', 'or': 'рмЕрморнГрмдрмнрмгрнНрмбрм╛', 'as': 'ржЕржорж┐рждрж╛', 'ur': '┘╛┘╛█М╪к╪з', 'ne': 'рдореЗрд╡рд╛', 'en': 'Papaya'},
      'Cherry': {'hi': 'рдЪреЗрд░реА', 'ta': 'роЪрпЖро░рпНро░ро┐', 'te': 'р░Ър▒Жр░░р▒Нр░░р▒А', 'bn': 'ржЪрзЗрж░рж┐', 'mr': 'рдЪреЗрд░реА', 'gu': 'ркЪрлЗрк░рлА', 'kn': 'р▓Ър│Жр▓░р│Нр▓░р▓┐', 'ml': 'р┤Ър╡Жр┤▒р┤┐', 'pa': 'риЪрйИри░рйА', 'or': 'рмЪрнЗрм░рнА', 'as': 'ржЪрзЗрз░рзА', 'ur': '┌Ж█М╪▒█М', 'ne': 'рдЪреЗрд░реА', 'en': 'Cherry'},
      'Kiwi': {'hi': 'рдХреАрд╡реА', 'ta': 'роХрпАро╡ро┐', 'te': 'р░Хр░┐р░╡р▒А', 'bn': 'ржХрж┐ржЙржЗ', 'mr': 'рдХрд┐рд╡реА', 'gu': 'ркХрлАрк╡рлА', 'kn': 'р▓Хр▓┐р▓╡р▓┐', 'ml': 'р┤Хр┤┐р┤╡р┤┐', 'pa': 'риХрйАри╡рйА', 'or': 'рмХрм┐рмнрм┐', 'as': 'ржХрж┐рз▒рж┐', 'ur': '┌й█М┘И█М', 'ne': 'рдХрд┐рд╡реА', 'en': 'Kiwi'},
      'Lychee': {'hi': 'рд▓реАрдЪреА', 'ta': 'ро▓ро┐роЪрпНроЪро┐', 'te': 'р░▓р▒Ар░Ър▒А', 'bn': 'рж▓рж┐ржЪрзБ', 'mr': 'рд▓рд┐рдЪреА', 'gu': 'рк▓рлАркЪрлА', 'kn': 'р▓▓р│Ар▓Ър▓┐', 'ml': 'р┤▓р┤┐р┤Ър╡Нр┤Ър┤┐', 'pa': 'ри▓рйАриЪрйА', 'or': 'рм▓рм┐рмЪрнБ', 'as': 'рж▓рж┐ржЪрзБ', 'ur': '┘Д█М┌Ж█М', 'ne': 'рд▓рд┐рдЪреНрдЪреА', 'en': 'Lychee'},
      'Lichi': {'hi': 'рд▓реАрдЪреА', 'ta': 'ро▓ро┐роЪрпНроЪро┐', 'te': 'р░▓р▒Ар░Ър▒А', 'bn': 'рж▓рж┐ржЪрзБ', 'mr': 'рд▓рд┐рдЪреА', 'gu': 'рк▓рлАркЪрлА', 'kn': 'р▓▓р│Ар▓Ър▓┐', 'ml': 'р┤▓рж┐р┤Ър╡Нр┤Ър┤┐', 'pa': 'ри▓рйАриЪрйА', 'or': 'рм▓рм┐рмЪрнБ', 'as': 'рж▓рж┐ржЪрзБ', 'ur': '┘Д█М┌Ж█М', 'ne': 'рд▓рд┐рдЪреНрдЪреА', 'en': 'Lichi'},
      'Pear': {'hi': 'рдирд╛рд╢рдкрд╛рддреА', 'ta': 'рокрпЗро░ро┐роХрпНроХро╛ропрпН', 'te': 'р░мр▒Зр░░р░┐р░Хр▒Нр░Хр░╛р░п', 'bn': 'ржирж╛рж╢ржкрж╛рждрж┐', 'mr': 'рдирд╛рд╢рдкрд╛рддреА', 'gu': 'ркирк╛рк╢рккрк╛ркдрлА', 'kn': 'р▓ир▓╛р▓╢р▓кр▓╛р▓др▓┐', 'ml': 'р┤кр┤┐р┤пр╡╝', 'pa': 'риири╛ри╕ри╝рикри╛ридрйА', 'or': 'рмирм╛рм╕рмкрм╛рмдрм┐', 'as': 'ржирж╛рж╢ржкрж╛рждрж┐', 'ur': '┘Ж╪з╪┤┘╛╪з╪к█М', 'ne': 'рдирд╛рд╢рдкрд╛рддреА', 'en': 'Pear'},
      'Pomegranate': {'hi': 'рдЕрдирд╛рд░', 'ta': 'рооро╛родрпБро│роорпН', 'te': 'р░жр░╛р░ир░┐р░ор▒Нр░о', 'bn': 'ржбрж╛рж▓рж┐ржо', 'mr': 'рдбрд╛рд│рд┐рдВрдм', 'gu': 'ркжрк╛ркбрко', 'kn': 'р▓жр▓╛р▓│р▓┐р▓Вр▓мр│Ж', 'ml': 'р┤ор┤╛р┤др┤│р┤ир┤╛р┤░р┤Хр┤В', 'pa': 'риЕриири╛ри░', 'or': 'рмбрм╛рм│рм┐рморнНрмм', 'as': 'ржбрж╛рж▓рж┐ржо', 'ur': '╪з┘Ж╪з╪▒', 'ne': 'рдЕрдирд╛рд░', 'en': 'Pomegranate'},
      'Strawberry': {'hi': 'рд╕реНрдЯреНрд░реЙрдмреЗрд░реА', 'ta': 'ро╕рпНроЯрпНро░ро╛рокрпЖро░рпНро░ро┐', 'te': 'р░╕р▒Нр░Яр▒Нр░░р░╛р░мр▒Жр░░р▒Нр░░р▒А', 'bn': 'рж╕рзНржЯрзНрж░ржмрзЗрж░рж┐', 'mr': 'рд╕реНрдЯреНрд░реЙрдмреЗрд░реА', 'gu': 'рк╕рлНркЯрлНрк░рлЛркмрлЗрк░рлА', 'kn': 'р▓╕р│Нр▓Яр│Нр▓░р▓╛р▓мр│Жр▓░р▓┐', 'ml': 'р┤╕р╡Нр┤Яр╡Нр┤░р╡Лр┤мр╡Жр┤▒р┤┐', 'pa': 'ри╕риЯрйНри░ри╛римрйЗри░рйА', 'or': 'рм╖рнНрмЯрнНрм░рммрнЗрм░рнА', 'as': 'рж╖рзНржЯрзНрз░ржмрзЗрз░рзА', 'ur': '╪з╪│┘╣╪▒╪з╪и█М╪▒█М', 'ne': 'рд╕реНрдЯреНрд░рдмреЗрд░реА', 'en': 'Strawberry'},
      'Sugarcane': {'hi': 'рдЧрдиреНрдирд╛', 'ta': 'роХро░рпБроорпНрокрпБ', 'te': 'р░Ър▒Жр░░р░Хр▒Б', 'bn': 'ржЖржЦ', 'mr': 'рдКрд╕', 'gu': 'рк╢рлЗрк░ркбрлА', 'kn': 'р▓Хр▓мр│Нр▓мр│Б', 'ml': 'р┤Хр┤░р┤┐р┤ор╡Нр┤кр╡Н', 'pa': 'риЧрй░риири╛', 'or': 'рмЖрмЦрнБ', 'as': 'ржЖржЦ', 'ur': '┌п┘Ж╪з', 'ne': 'рдЙрдЦреБ', 'en': 'Sugarcane'},
      
      // Vegetables
      'Potato': {'hi': 'рдЖрд▓реВ', 'ta': 'роЙро░рпБро│рпИроХрпНроХро┐ро┤роЩрпНроХрпБ', 'te': 'р░мр░Вр░Чр░╛р░│р░╛р░жр▒Бр░Вр░к', 'bn': 'ржЖрж▓рзБ', 'mr': 'рдмрдЯрд╛рдЯрд╛', 'gu': 'ркмркЯрк╛ркХрк╛', 'kn': 'р▓Жр▓▓р│Вр▓Чр│Жр▓бр│Нр▓бр│Ж', 'ml': 'р┤Йр┤░р╡Бр┤│р┤Хр╡Нр┤Хр┤┐р┤┤р┤Щр╡Нр┤Щр╡Н', 'pa': 'риЖри▓рйВ', 'or': 'рмЖрм│рнБ', 'as': 'ржЖрж▓рзБ', 'ur': '╪в┘Д┘И', 'ne': 'рдЖрд▓реБ', 'en': 'Potato'},
      'Tomato': {'hi': 'рдЯрдорд╛рдЯрд░', 'ta': 'родроХрпНроХро╛ро│ро┐', 'te': 'р░Яр░ор▒Лр░Яр░╛', 'bn': 'ржЯржорзЗржЯрзЛ', 'mr': 'рдЯреЛрдореЕрдЯреЛ', 'gu': 'ркЯркорлЗркЯрк╛ркВ', 'kn': 'р▓Яр│Кр▓ор│Зр▓Яр│К', 'ml': 'р┤др┤Хр╡Нр┤Хр┤╛р┤│р┤┐', 'pa': 'риЯриори╛риЯри░', 'or': 'рмЯрморм╛рмЯрнЛ', 'as': 'ржмрж┐рж▓рж╛рж╣рзА', 'ur': '┘╣┘Е╪з┘╣╪▒', 'ne': 'рдЧреЛрд▓рднреЗрдбрд╛', 'en': 'Tomato'},
      'Onion': {'hi': 'рдкреНрдпрд╛рдЬ', 'ta': 'ро╡рпЖроЩрпНроХро╛ропроорпН', 'te': 'р░Йр░▓р▒Нр░▓р░┐р░кр░╛р░п', 'bn': 'ржкрзЗржБржпрж╝рж╛ржЬ', 'mr': 'рдХрд╛рдВрджрд╛', 'gu': 'ркбрлБркВркЧрк│рлА', 'kn': 'р▓Ир▓░р│Бр▓│р│Нр▓│р▓┐', 'ml': 'р┤╕р┤╡р┤╛р┤│', 'pa': 'рикри┐риЖриЬри╝', 'or': 'рмкрм┐рмЖрмЬ', 'as': 'ржкрж┐ржпрж╝рж╛ржБржЬ', 'ur': '┘╛█М╪з╪▓', 'ne': 'рдкреНрдпрд╛рдЬ', 'en': 'Onion'},
      'Cabbage': {'hi': 'рдкрддреНрддрд╛ рдЧреЛрднреА', 'ta': 'роорпБроЯрпНроЯрпИроХрпЛро╕рпН', 'te': 'р░Хр░╛р░мр▒Зр░Ьр▒А', 'bn': 'ржмрж╛ржБржзрж╛ржХржкрж┐', 'mr': 'рдХреЛрдмреА', 'gu': 'ркХрлЛркмрлА', 'kn': 'р▓Ор▓▓р│Жр▓Хр│Лр▓╕р│Б', 'ml': 'р┤Хр┤╛р┤мр╡Зр┤Ьр╡Н', 'pa': 'римрй░риж риЧрйЛринрйА', 'or': 'рммрмирнНрмзрм╛рмХрнЛрммрм┐', 'as': 'ржмржирзНржзрж╛ржХржмрж┐', 'ur': '╪и┘Ж╪п ┌п┘И╪и┌╛█М', 'ne': 'рдмрдиреНрджрд╛рдЧреЛрднреА', 'en': 'Cabbage'},
      'Spinach': {'hi': 'рдкрд╛рд▓рдХ', 'ta': 'роХрпАро░рпИ', 'te': 'р░кр░╛р░▓р░Хр▒Вр░░', 'bn': 'ржкрж╛рж▓ржВ рж╢рж╛ржХ', 'mr': 'рдкрд╛рд▓рдХ', 'gu': 'рккрк╛рк▓ркХ', 'kn': 'р▓╕р│Кр▓кр│Нр▓кр│Б', 'ml': 'р┤Ър╡Ар┤░', 'pa': 'рикри╛ри▓риХ', 'or': 'рмкрм╛рм│рмЩрнНрмЧ', 'as': 'ржкрж╛рж▓рзЗржВ', 'ur': '┘╛╪з┘Д┌й', 'ne': 'рдкрд╛рд▓реБрдЩреНрдЧреЛ', 'en': 'Spinach'},
      'Cauliflower': {'hi': 'рдлреВрд▓ рдЧреЛрднреА', 'ta': 'роХро╛ро▓ро┐роГрокрпНро│ро╡ро░рпН', 'te': 'р░Хр░╛р░▓р░┐р░лр▒Нр░▓р░╡р░░р▒Н', 'bn': 'ржлрзБрж▓ржХржкрж┐', 'mr': 'рдлреБрд▓рдХреЛрдмреА', 'gu': 'рклрлВрк▓ркХрлЛркмрлА', 'kn': 'р▓╣р│Вр▓Хр│Лр▓╕р│Б', 'ml': 'р┤Хр╡Лр┤│р┤┐р┤лр╡НтАМр┤│р┤╡р╡╝', 'pa': 'рилрйБрй▒ри▓ риЧрйЛринрйА', 'or': 'рмлрнБрм▓рмХрнЛрммрм┐', 'as': 'ржлрзБрж▓ржХржмрж┐', 'ur': '┘╛┌╛┘И┘Д ┌п┘И╪и┌╛█М', 'ne': 'рдХрд╛рдЙрд▓реА', 'en': 'Cauliflower'},
      'Brinjal': {'hi': 'рдмреИрдВрдЧрди', 'ta': 'роХродрпНродро░ро┐роХрпНроХро╛ропрпН', 'te': 'р░╡р░Вр░Хр░╛р░п', 'bn': 'ржмрзЗржЧрзБржи', 'mr': 'рд╡рд╛рдВрдЧреА', 'gu': 'рк░рлАркВркЧркг', 'kn': 'р▓мр▓жр▓ир│Жр▓Хр▓╛р▓пр▓┐', 'ml': 'р┤╡р┤┤р╡Бр┤др┤и', 'pa': 'римрйИриВриЧриг', 'or': 'рммрм╛рмЗрмЧрмг', 'as': 'ржмрзЗржЩрзЗржирж╛', 'ur': '╪и█М┘Ж┌п┘Ж', 'ne': 'рднрдиреНрдЯрд╛', 'en': 'Brinjal'},
      'Bitter Gourd': {'hi': 'рдХрд░реЗрд▓рд╛', 'ta': 'рокро╛роХро▒рпНроХро╛ропрпН', 'te': 'р░Хр░╛р░Хр░░р░Хр░╛р░п', 'bn': 'ржХрж░рж▓рж╛', 'mr': 'рдХрд╛рд░рд│реЗ', 'gu': 'ркХрк╛рк░рлЗрк▓рлБркВ', 'kn': 'р▓╣р▓╛р▓Чр▓▓р▓Хр▓╛р▓пр▓┐', 'ml': 'р┤Хр┤пр╡Нр┤кр┤Хр╡Нр┤Х', 'pa': 'риХри░рйЗри▓ри╛', 'or': 'рмХрм│рм░рм╛', 'as': 'рждрж┐рждрж╛ ржХрзЗрз░рзЗрж▓рж╛', 'ur': '┌й╪▒█М┘Д╪з', 'ne': 'рддреАрддреЛ рдХрд░реЗрд▓рд╛', 'en': 'Bitter Gourd'},
      'Bottle Gourd': {'hi': 'рд▓реМрдХреА', 'ta': 'роЪрпБро░рпИроХрпНроХро╛ропрпН', 'te': 'р░╕р▒Кр░░р░Хр░╛р░п', 'bn': 'рж▓рж╛ржЙ', 'mr': 'рджреВрдзреА', 'gu': 'ркжрлВркзрлА', 'kn': 'р▓╕р│Лр▓░р│Жр▓Хр▓╛р▓пр▓┐', 'ml': 'р┤Ър╡Бр┤░р┤Хр╡Нр┤Х', 'pa': 'ри▓рйМриХрйА', 'or': 'рм▓рм╛рмЙ', 'as': 'рж▓рж╛ржУ', 'ur': '┘Д┘И┌й█М', 'ne': 'рд▓реМрдХрд╛', 'en': 'Bottle Gourd'},
      'Capsicum': {'hi': 'рд╢рд┐рдорд▓рд╛ рдорд┐рд░реНрдЪ', 'ta': 'роХрпБроЯрпИрооро┐ро│роХро╛ропрпН', 'te': 'р░Хр░╛р░кр▒Нр░╕р░┐р░Хр░В', 'bn': 'ржХрзНржпрж╛ржкрж╕рж┐ржХрж╛ржо', 'mr': 'рднреЛрдкрд▓реА рдорд┐рд░реНрдЪреА', 'gu': 'ркнрлЛрккрк│рлА ркорк░ркЪрлБркВ', 'kn': 'р▓жр│Кр▓гр│Нр▓гр│Ж р▓ор│Жр▓гр▓╕р▓┐р▓ир▓Хр▓╛р▓пр▓┐', 'ml': 'р┤Хр┤╛р┤кр╡Нр┤╕р┤┐р┤Хр┤В', 'pa': 'ри╕ри╝ри┐риори▓ри╛ риори┐ри░риЪ', 'or': 'рмХрм╛рмкрм╕рм┐рмХрмо', 'as': 'ржХрзЗржкржЫрж┐ржХрж╛ржо', 'ur': '╪┤┘Е┘Д█Б ┘Е╪▒┌Ж', 'ne': 'рднреЗрдбреЗ рдЦреБрд░реНрд╕рд╛рдиреА', 'en': 'Capsicum'},
      'Chilli': {'hi': 'рдорд┐рд░реНрдЪ', 'ta': 'рооро┐ро│роХро╛ропрпН', 'te': 'р░ор░┐р░░р▒Нр░Ър░┐', 'bn': 'ржорж░рж┐ржЪ', 'mr': 'рдорд┐рд░реНрдЪреА', 'gu': 'ркорк░ркЪрлБркВ', 'kn': 'р▓ор│Жр▓гр▓╕р▓┐р▓ир▓Хр▓╛р▓пр▓┐', 'ml': 'р┤ор╡Бр┤│р┤Хр╡Н', 'pa': 'риори┐ри░риЪ', 'or': 'рм▓рмЩрнНрмХрм╛', 'as': 'ржЬрж▓ржХрзАржпрж╝рж╛', 'ur': '┘Е╪▒┌Ж', 'ne': 'рдЦреБрд░реНрд╕рд╛рдиреА', 'en': 'Chilli'},
      'Lady Finger': {'hi': 'рднрд┐рдВрдбреА', 'ta': 'ро╡рпЖрогрпНроЯрпИроХрпНроХро╛ропрпН', 'te': 'р░мр▒Жр░Вр░бр░Хр░╛р░п', 'bn': 'ржврзЗржБржбрж╝рж╕', 'mr': 'рднреЗрдВрдбреА', 'gu': 'ркнрлАркВркбрк╛', 'kn': 'р▓мр│Жр▓Вр▓бр│Жр▓Хр▓╛р▓пр▓┐', 'ml': 'р┤╡р╡Жр┤гр╡Нр┤Яр┤Хр╡Нр┤Х', 'pa': 'ринри┐рй░рибрйА', 'or': 'рмнрнЗрмгрнНрмбрм┐', 'as': 'ржнрж┐ржирзНржбрж┐', 'ur': '╪и┌╛┘Ж┌И█М', 'ne': 'рднрд┐рдиреНрдбреА', 'en': 'Lady Finger'},
      'Mushroom': {'hi': 'рдорд╢рд░реВрдо', 'ta': 'роХро╛ро│ро╛ройрпН', 'te': 'р░Хр▒Бр░Хр▒Нр░Хр░Чр▒Бр░бр▒Нр░▓р▒Б', 'bn': 'ржорж╛рж╢рж░рзБржо', 'mr': 'рдорд╢рд░реВрдо', 'gu': 'ркорк╢рк░рлВрко', 'kn': 'р▓Ер▓гр▓мр│Ж', 'ml': 'р┤Хр╡Вр╡║', 'pa': 'риЦрйБрй░рин', 'or': 'рморм╕рм░рнБрмо', 'as': 'ржорж╛рж╢рз░рзБржо', 'ur': '┘Е╪┤╪▒┘И┘Е', 'ne': 'рдЪреНрдпрд╛рдЙ', 'en': 'Mushroom'},
      'Pumpkin': {'hi': 'рдХрджреНрджреВ', 'ta': 'рокрпВроЪрогро┐роХрпНроХро╛ропрпН', 'te': 'р░Чр▒Бр░ор▒Нр░ор░бр░┐р░Хр░╛р░п', 'bn': 'ржХрзБржоржбрж╝рж╛', 'mr': 'рднреЛрдкрд│рд╛', 'gu': 'ркХрлЛрк│рлБркВ', 'kn': 'р▓Хр│Бр▓Вр▓мр▓│р▓Хр▓╛р▓пр▓┐', 'ml': 'р┤ор┤др╡Нр┤др╡╗', 'pa': 'риХрй▒рижрйВ', 'or': 'рмХрм╛рмЦрм╛рм░рнБ', 'as': 'рз░рж╛ржВржЧрж╛ рж▓рж╛ржУ', 'ur': '┌й╪п┘И', 'ne': 'рдлрд░реНрд╕реА', 'en': 'Pumpkin'},
    };

    // For individual letters, create meaningful phonetic equivalents
    Map<String, Map<String, String>> letterPhoneticMapping = {
      // Hindi vowels to English phonetics
      'рдЕ': {'en': 'A (as in "but")', 'hi': 'рдЕ', 'ta': 'роЕ', 'te': 'р░Е', 'bn': 'ржЕ', 'mr': 'рдЕ', 'gu': 'ркЕ', 'kn': 'р▓Е', 'ml': 'р┤Е', 'pa': 'риЕ', 'or': 'рмЕ', 'as': 'ржЕ', 'ur': '╪з', 'ne': 'рдЕ'},
      'рдЖ': {'en': 'AA (as in "father")', 'hi': 'рдЖ', 'ta': 'роЖ', 'te': 'р░Ж', 'bn': 'ржЖ', 'mr': 'рдЖ', 'gu': 'ркЖ', 'kn': 'р▓Ж', 'ml': 'р┤Ж', 'pa': 'риЖ', 'or': 'рмЖ', 'as': 'ржЖ', 'ur': '╪в', 'ne': 'рдЖ'},
      'рдЗ': {'en': 'I (as in "bit")', 'hi': 'рдЗ', 'ta': 'роЗ', 'te': 'р░З', 'bn': 'ржЗ', 'mr': 'рдЗ', 'gu': 'ркЗ', 'kn': 'р▓З', 'ml': 'р┤З', 'pa': 'риЗ', 'or': 'рмЗ', 'as': 'ржЗ', 'ur': '█М', 'ne': 'рдЗ'},
      'рдИ': {'en': 'EE (as in "beet")', 'hi': 'рдИ', 'ta': 'роИ', 'te': 'р░И', 'bn': 'ржИ', 'mr': 'рдИ', 'gu': 'ркИ', 'kn': 'р▓И', 'ml': 'р┤И', 'pa': 'риИ', 'or': 'рмИ', 'as': 'ржИ', 'ur': '█М', 'ne': 'рдИ'},
      'рдЙ': {'en': 'U (as in "put")', 'hi': 'рдЙ', 'ta': 'роЙ', 'te': 'р░Й', 'bn': 'ржЙ', 'mr': 'рдЙ', 'gu': 'ркЙ', 'kn': 'р▓Й', 'ml': 'р┤Й', 'pa': 'риЙ', 'or': 'рмЙ', 'as': 'ржЙ', 'ur': '┘И', 'ne': 'рдЙ'},
      // English letters to various scripts
      'A': {'hi': 'рдЕ', 'ta': 'роЕ', 'te': 'р░Е', 'bn': 'ржЕ', 'mr': 'рдЕ', 'gu': 'ркЕ', 'kn': 'р▓Е', 'ml': 'р┤Е', 'pa': 'риЕ', 'or': 'рмЕ', 'as': 'ржЕ', 'ur': '╪з', 'ne': 'рдЕ', 'en': 'A'},
      'B': {'hi': 'рдм', 'ta': 'рок', 'te': 'р░м', 'bn': 'ржм', 'mr': 'рдм', 'gu': 'ркм', 'kn': 'р▓м', 'ml': 'р┤м', 'pa': 'рим', 'or': 'рмм', 'as': 'ржм', 'ur': '╪и', 'ne': 'рдм', 'en': 'B'},
      'C': {'hi': 'рд╕', 'ta': 'роЪ', 'te': 'р░Ъ', 'bn': 'ржЪ', 'mr': 'рд╕', 'gu': 'рк╕', 'kn': 'р▓╕', 'ml': 'р┤╕', 'pa': 'ри╕', 'or': 'рм╕', 'as': 'ржЪ', 'ur': '╪│', 'ne': 'рд╕', 'en': 'C'},
    };

    // Check if it's a fruit or vegetable translation
    if (fruitVegetableMapping.containsKey(text)) {
      return fruitVegetableMapping[text]![targetLanguage] ?? text;
    }

    // Check if it's a single letter translation
    if (letterPhoneticMapping.containsKey(text)) {
      return letterPhoneticMapping[text]![targetLanguage] ?? text;
    }

    // For letter explanations, provide a generic fallback
    if (text.contains('This is the letter')) {
      String languageName = getSupportedLanguages()[targetLanguage] ?? 'this language';
      return 'This letter is used in $languageName writing.';
    }

    // Return original text if no translation found
    return text;
  }

  static Map<String, String> getSupportedLanguages() {
    return {
      'en': 'English',
      'hi': 'Hindi',
      'ta': 'Tamil',
      'te': 'Telugu',
      'mr': 'Marathi',
      'bn': 'Bengali',
      'gu': 'Gujarati',
      'kn': 'Kannada',
      'ml': 'Malayalam',
      'pa': 'Punjabi',
      'or': 'Odia',
      'as': 'Assamese',
      'ur': 'Urdu',
      'sd': 'Sindhi',
      'ne': 'Nepali',
    };
  }

  static String getLanguageFlag(String languageCode) {
    const flags = {
      'en': 'ЁЯЗ║ЁЯЗ╕',
      'hi': 'ЁЯЗоЁЯЗ│',
      'ta': 'ЁЯЗоЁЯЗ│',
      'te': 'ЁЯЗоЁЯЗ│',
      'mr': 'ЁЯЗоЁЯЗ│',
      'bn': 'ЁЯЗоЁЯЗ│',
      'gu': 'ЁЯЗоЁЯЗ│',
      'kn': 'ЁЯЗоЁЯЗ│',
      'ml': 'ЁЯЗоЁЯЗ│',
      'pa': 'ЁЯЗоЁЯЗ│',
      'or': 'ЁЯЗоЁЯЗ│',
      'as': 'ЁЯЗоЁЯЗ│',
      'ur': 'ЁЯЗ╡ЁЯЗ░',
      'sd': 'ЁЯЗ╡ЁЯЗ░',
      'ne': 'ЁЯЗ│ЁЯЗ╡',
    };
    return flags[languageCode] ?? 'ЁЯМР';
  }
}